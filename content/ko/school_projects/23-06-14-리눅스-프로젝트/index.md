---
title: 카페 키오스크 만들기
subtitle: 리눅스 팀 프로젝트 - 키오스크 만들기
date: 2023-06-14
image:
  focal_point: 'center'
---

카페 키오스크 시스템을 구현하여 사용자들이 메뉴를 선택하고 결제할 수 있도록 다중 클라이언트와 서버 간 통신을 통한 주문 및 결제 프로세스를 제공하는 프로그램을 개발해보았습니다. <br><br>

<!--more-->

**카페 키오스크 시스템: 효율적인 주문 처리 시스템 개발 이야기**<br><br><br>
저는 카페 키오스크 시스템을 주제로 프로젝트를 진행했습니다. 카페에서 흔히 볼 수 있는 키오스크 시스템을 모티브로 삼아, 고객이 메뉴를 선택하고 다양한 옵션을 추가해 주문을 완료하는 과정을 구현한 시스템을 개발했습니다. 이 시스템을 통해 효율적으로 고객의 주문을 처리하는 방법을 고민했죠. 이번 포스트에서는 제가 만든 시스템의 기능과 사용법, 그리고 통신 프로토콜에 대해 이야기해 보려고 합니다.<br><br>

**프로젝트 컨셉**<br><br>
카페 키오스크 시스템은 이제 우리에게 익숙한 자동화된 주문 방식입니다. 저는 이 시스템을 소켓 통신을 기반으로 구현하여, 다중 클라이언트가 동시에 접속해도 원활하게 주문을 처리할 수 있는 구조를 설계했습니다. 메뉴 선택부터 결제까지의 전 과정을 효율적으로 관리할 수 있는 프로그램을 목표로 했습니다.<br><br>

**프로그램 사용법**<br><br>
서버 사용법<br>
터미널에서 아래 명령어로 서버를 실행합니다:<br>
./KIOSK_server [[서버이름]] [[DB 파일 이름]]<br><br>
서버가 시작되면 DB 파일을 자동으로 생성하거나, 기존 파일을 엽니다. 이제 여러 클라이언트가 접속할 준비가 끝났습니다. 서버를 종료할 때는 Ctrl+\를, 제품 수정을 할 때는 Ctrl+C를 눌러주세요.<br><br>

클라이언트 사용법<br>
터미널에서 클라이언트 실행은 다음 명령어로 가능합니다:<br>
./KIOSK_client [[클라이언트 이름]]<br><br>
클라이언트는 "Press any key to start" 메시지를 보여주고, 사용자의 입력을 기다립니다. 입력이 들어오면 서버로부터 카테고리 정보를 받아와 화면에 출력합니다.<br><br>

**시스템 주요 기능**<br><br>
서버 기능<br>
다중 클라이언트 접속: 여러 사용자가 동시에 접속해도 끊김 없이 서비스할 수 있도록 fork() 함수를 사용하여 자식 프로세스가 연결됩니다.<br>
상품 수량 관리: 상품이 모두 팔리면 sold out 메시지를 클라이언트에 전달합니다.<br>
결제 기능: 소비자의 요청 수량이 부족하거나 결제 금액이 모자라면 구매가 진행되지 않습니다.<br>
클라이언트 기능<br>
사용자는 원하는 카테고리에서 상품을 선택하고, 구매 및 결제를 진행할 수 있습니다.<br>
카트 기능: 선택한 상품을 카트에 담아 결제하거나, 메뉴로 돌아가 상품을 추가할 수 있습니다.<br>
통신 프로토콜<br>
이 시스템은 클라이언트와 서버 간의 명확한 통신 규약을 통해 동작합니다. 몇 가지 주요 프로토콜은 다음과 같습니다:<br><br>

0번 프로토콜: 클라이언트와 서버가 서로 이름을 교환하여 통신을 시작합니다.<br>
1번 프로토콜: 통신 종료 요청입니다.<br>
2번 프로토콜: 카테고리 정보 요청을 주고받습니다.<br>
3번 프로토콜: 특정 카테고리 내 상품 정보를 요청하는 방식입니다.<br>
이 외에도 상품 상세 정보, 옵션 정보 요청, 결제 처리 등 다양한 통신 프로토콜을 설계하여 시스템이 안정적으로 동작하도록 했습니다.<br><br>

**추가 기능**<br><br>
입력 에러 관리: 잘못된 입력이나 규약 미준수 시 오류를 처리하는 로직을 추가했습니다.<br>
이진 파일 DB: 파일을 이진 파일 형식으로 관리하여 데이터 저장 효율성을 높였습니다.<br>
클라이언트 입력 시간 제한: 120초 동안 입력이 없으면 자동으로 클라이언트가 재시작됩니다.<br>
메뉴 설명 출력: 상품을 선택하면 설명, 가격, 남은 수량 등을 바로 확인할 수 있습니다.<br>
실시간 카트 업데이트: 사용자가 카트에 담은 상품을 실시간으로 확인할 수 있도록 구현했습니다.<br><br>

**마치며**<br><br>
카페 키오스크 시스템은 앞으로 더욱 발전할 수 있는 가능성이 큰 프로젝트라고 생각합니다. 고객이 더 쉽고 빠르게 주문할 수 있도록 하는 시스템을 개발하며 많은 것을 배웠고, 소켓 통신과 효율적인 주문 처리 시스템에 대한 깊은 이해를 얻게 되었습니다.<br><br>