<div class="carousel-container">
<div class="carousel">
    <div class="slides">
    <div class="slide">
        <img
        id="slide01"
        src="https://picsum.photos/1280/720?random=1"
        alt="slide image"
        />
        <div class="text">슬라이드 1 텍스트</div>
    </div>
    <div class="slide">
        <img
        id="slide02"
        src="https://picsum.photos/1280/720?random=2"
        alt="slide image"
        />
        <div class="text">슬라이드 2 텍스트</div>
    </div>
    <div class="slide">
        <img
        id="slide03"
        src="https://picsum.photos/1280/720?random=3"
        alt="slide image"
        />
        <div class="text">슬라이드 3 텍스트</div>
    </div>
    <div class="slide">
        <img
        id="slide04"
        src="https://picsum.photos/1280/720?random=4"
        alt="slide image"
        />
        <div class="text">슬라이드 4 텍스트</div>
    </div>
    </div>
    <div class="controls">
    <div class="control prev-slide">&#9668;</div>
    <div class="control next-slide">&#9658;</div>
    </div>
</div>
</div>

<script>
const delay = 3000; //ms

const slides = document.querySelector(".slides");
const slidesCount = slides.childElementCount;
const maxLeft = (slidesCount - 1) * 100 * -1;

let current = 0;

function changeSlide(next = true) {
    if (next) {
    current += current > maxLeft ? -100 : current * -1;
    } else {
    current = current < 0 ? current + 100 : maxLeft;
    }

    slides.style.left = current + "%";
}

let autoChange = setInterval(changeSlide, delay);
const restart = function () {
    clearInterval(autoChange);
    autoChange = setInterval(changeSlide, delay);
};

// Controls
document.querySelector(".next-slide").addEventListener("click", function () {
    changeSlide();
    restart();
});

document.querySelector(".prev-slide").addEventListener("click", function () {
    changeSlide(false);
    restart();
});

// Hover and Click Event
document.querySelectorAll(".slide img").forEach((slide) => {
    slide.addEventListener("mouseover", function () {
    const id = this.id;
    if (id === "slide02") {
        this.style.cursor = "pointer";
    } else {
        this.style.cursor = "default";
    }
    });

    slide.addEventListener("click", function () {
    const id = this.id;
    if (id === "slide02") {
        window.location.href = "https://www.example.com"; // 이동할 URL
    }
    });
});
</script>

<style>
.carousel-container {
    background: transparent; /* 완전한 투명으로 설정 */
    display: flex;
    justify-content: center;
    align-items: center;
    height: 250px; /* 고정된 높이 설정 */
    padding: 32px 0; /* 위아래 32px의 padding 추가 */
}

.carousel {
    width: 100%;
    max-width: 1280px; /* 최대 폭 설정 (원하는 대로 조정 가능) */
    height: 100%; /* 컨테이너의 높이에 맞춤 */
    border-radius: 3px;
    overflow: hidden;
    position: relative;
    box-shadow: 0 3px 6px rgba(223, 192, 192, 0.2);
}

.slides {
    position: absolute;
    top: 0; /* 위치를 컨테이너의 상단으로 맞춤 */
    left: 0;
    display: flex;
    width: 100%;
    height: 100%; /* 슬라이드의 높이를 컨테이너의 높이에 맞춤 */
    transition: 1s ease-in-out all;
}

.slide {
    min-width: 100%;
    position: relative; /* 텍스트 레이어를 위해 position 추가 */
}

.slide img {
    width: 100%;
    height: 100%; /* 이미지를 슬라이드의 높이에 맞춤 */
    object-fit: cover; /* 이미지를 비율을 유지하며 슬라이드에 맞춤 */
}

.slide .text {
    position: absolute;
    bottom: 20px; /* 아래쪽 여백 */
    left: 50%; /* 수평 중앙 정렬 */
    transform: translateX(-50%); /* 중앙 정렬을 위한 변환 */
    color: white; /* 텍스트 색상 */
    font-size: 24px; /* 텍스트 크기 */
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7); /* 텍스트 그림자 */
    pointer-events: none;
    user-select: none; /* 텍스트 선택 방지 */
}

.carousel:hover .controls {
    opacity: 1;
}

.carousel .controls {
    opacity: 0;
    display: flex;
    position: absolute;
    top: 42.5%;
    left: 0;
    width: 100%; /* 전체 너비 사용 */
    z-index: 1; /* 슬라이드 위로 설정 */
    transition: all ease 0.5s;
    pointer-events: none; /* 기본적으로 이벤트 비활성화 */
}

.carousel .control {
    margin: 0 5px; /* 버튼 간의 여백 */
    display: flex;
    align-items: center;
    justify-content: center;
    height: 40px;
    width: 40px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.7);
    opacity: 0.5;
    transition: ease 0.3s;
    cursor: pointer;
    pointer-events: auto; /* 버튼에 대해서만 포인터 이벤트 활성화 */
}

/* 컨트롤의 위치를 좌우로 조정 */
.carousel .control.prev-slide {
    position: absolute;
    left: 1%; /* 왼쪽 여백 */
}

.carousel .control.next-slide {
    position: absolute;
    right: 1%; /* 오른쪽 여백 */
}

/* 호버 시 컨트롤이 보이도록 */
.carousel:hover .controls {
    opacity: 1;
}

/*강제로 margin 제거*/
#slide01 {
    margin: 0; /* margin을 0으로 설정 */
}
#slide02 {
    margin: 0; /* margin을 0으로 설정 */
}
#slide03 {
    margin: 0; /* margin을 0으로 설정 */
}
#slide04 {
    margin: 0; /* margin을 0으로 설정 */
}
</style>